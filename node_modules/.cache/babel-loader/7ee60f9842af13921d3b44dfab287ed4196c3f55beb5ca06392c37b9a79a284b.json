{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yuvi2\\\\Downloads\\\\javaProject\\\\src\\\\pages\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { registerUser, loginUser } from \"../api\";\nimport LoginForm from \"../components/LoginForm\";\nimport RegisterForm from \"../components/RegisterForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginPage({\n  onLogin\n}) {\n  _s();\n  const [isRegister, setIsRegister] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n  const handleLogin = async (username, password, setError) => {\n    setLoading(true);\n    setError(\"\");\n    try {\n      const res = await loginUser(username, password);\n      if (!res.token) {\n        setError(res.message || \"Login failed. Please check your credentials.\");\n        setLoading(false);\n        return;\n      }\n      sessionStorage.setItem(\"token\", res.token);\n      sessionStorage.setItem(\"username\", res.username);\n      if (typeof onLogin === \"function\") onLogin();\n      navigate(\"/\");\n    } catch (err) {\n      setError(\"Error: \" + (err.message || err));\n    }\n    setLoading(false);\n  };\n  const handleRegister = async (username, email, password, setError) => {\n    setLoading(true);\n    setError(\"\");\n    try {\n      const res = await registerUser(username, email, password);\n      if (res.error || res.status === \"error\" || res.status === 400 || res.status === 409) {\n        setError(res.message || res.error || \"Registration failed.\");\n        setLoading(false);\n        return;\n      }\n      setMessage(\"Registered successfully! Please login.\");\n      setIsRegister(false);\n    } catch (err) {\n      setError(\"Error: \" + (err.message || err));\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen bg-gray-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded shadow-md w-96\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-4 text-center\",\n        children: isRegister ? \"Register\" : \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 text-center text-green-600 text-sm\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), isRegister ? /*#__PURE__*/_jsxDEV(RegisterForm, {\n        onRegister: handleRegister,\n        loading: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(LoginForm, {\n        onLogin: handleLogin,\n        loading: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-sm mt-3\",\n        children: isRegister ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-blue-600 cursor-pointer\",\n          onClick: () => {\n            setIsRegister(false);\n            setMessage(\"\");\n          },\n          children: \"Already have an account? Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-blue-600 cursor-pointer\",\n          onClick: () => {\n            setIsRegister(true);\n            setMessage(\"\");\n          },\n          children: \"Don't have an account? Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginPage, \"zY/c2y3pnX+v5BvJMVHc7mbLVP4=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","useNavigate","registerUser","loginUser","LoginForm","RegisterForm","jsxDEV","_jsxDEV","LoginPage","onLogin","_s","isRegister","setIsRegister","loading","setLoading","message","setMessage","navigate","handleLogin","username","password","setError","res","token","sessionStorage","setItem","err","handleRegister","email","error","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onRegister","onClick","_c","$RefreshReg$"],"sources":["C:/Users/yuvi2/Downloads/javaProject/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { registerUser, loginUser } from \"../api\";\r\nimport LoginForm from \"../components/LoginForm\";\r\nimport RegisterForm from \"../components/RegisterForm\";\r\n\r\nexport default function LoginPage({ onLogin }) {\r\n  const [isRegister, setIsRegister] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async (username, password, setError) => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n    try {\r\n      const res = await loginUser(username, password);\r\n      if (!res.token) {\r\n        setError(res.message || \"Login failed. Please check your credentials.\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      sessionStorage.setItem(\"token\", res.token);\r\n      sessionStorage.setItem(\"username\", res.username);\r\n      if (typeof onLogin === \"function\") onLogin();\r\n      navigate(\"/\");\r\n    } catch (err) {\r\n      setError(\"Error: \" + (err.message || err));\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleRegister = async (username, email, password, setError) => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n    try {\r\n      const res = await registerUser(username, email, password);\r\n      if (res.error || res.status === \"error\" || res.status === 400 || res.status === 409) {\r\n        setError(res.message || res.error || \"Registration failed.\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      setMessage(\"Registered successfully! Please login.\");\r\n      setIsRegister(false);\r\n    } catch (err) {\r\n      setError(\"Error: \" + (err.message || err));\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex justify-center items-center h-screen bg-gray-100\">\r\n      <div className=\"bg-white p-8 rounded shadow-md w-96\">\r\n        <h2 className=\"text-2xl font-bold mb-4 text-center\">\r\n          {isRegister ? \"Register\" : \"Login\"}\r\n        </h2>\r\n        {message && (\r\n          <div className=\"mb-3 text-center text-green-600 text-sm\">{message}</div>\r\n        )}\r\n        {isRegister ? (\r\n          <RegisterForm onRegister={handleRegister} loading={loading} />\r\n        ) : (\r\n          <LoginForm onLogin={handleLogin} loading={loading} />\r\n        )}\r\n        <div className=\"text-center text-sm mt-3\">\r\n          {isRegister ? (\r\n            <span\r\n              className=\"text-blue-600 cursor-pointer\"\r\n              onClick={() => { setIsRegister(false); setMessage(\"\"); }}\r\n            >\r\n              Already have an account? Login\r\n            </span>\r\n          ) : (\r\n            <span\r\n              className=\"text-blue-600 cursor-pointer\"\r\n              onClick={() => { setIsRegister(true); setMessage(\"\"); }}\r\n            >\r\n              Don't have an account? Sign Up\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}